// Copyright (c) 2016 Afonso F

// Copied from functions.less
// Change to use masks - so we can change svg icon color
.icon-img(@url, @icon-color) {
  display: inline !important;
  background-color: @icon-color !important;
  mask-image: url(@url) !important;
  mask-repeat: no-repeat !important;
  // Backwards compatibility (inc. Chrome) for masks
  -webkit-mask-image: url(@url) !important;
  -webkit-mask-repeat: no-repeat;
}

// Generated by https://codepen.io/sosuke/pen/Pjoqqp
.icon(@size) { // outer mixin
    @icon-size: @size * 1.2;
    padding-left: @icon-size !important;
    padding-top: @icon-size !important;
    height: 0 !important;
    width: 0 !important;
    mask-size: @icon-size @icon-size !important;
    // Backwards compatibility (inc. Chrome) for mask size
    -webkit-mask-size: @icon-size @icon-size !important;
    background-size: 100% 100% !important;
    font-size: 0 !important;
  }

.shadow1() {
  box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
}

// Global font
#main-panel>pre {
    font-family: Roboto Mono,monospace!important;
}

// Animations
@keyframes keyframes-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-rotate() {
  animation: keyframes-rotate 2s linear infinite;
}

@keyframes keyframes-pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.animate-pulse() {
  animation: keyframes-pulse ease-in-out 2s;
  animation-iteration-count: infinite;
  transform-origin: 50% 50%;
  animation-fill-mode: forwards;
}

// Default Sizes
@size-sm: 18px;
@size-md: 24px;
@size-lg: 36px;
@size-xl: 48px;

// Src
// Reminder: Each selector using `.icon-img` must be declared bellow using .icon-size too

.icon-new-package, [src$='new-package.png'] {
  .icon-img('../plugin/material-theme/resources/images/add_circle_outline.svg', @color-grey);
}

.icon-user, [src$='user.png'] {
  .icon-img('../plugin/material-theme/resources/images/people.svg', @color-grey);
}

.icon-notepad, [src$='notepad.png'] {
  .icon-img('../plugin/material-theme/resources/images/history.svg', @color-grey);
}

.icon-setting, [src$='setting.png'], .icon-gear2, [src$='gear2.png'] {
  .icon-img('../plugin/material-theme/resources/images/settings.svg', @color-grey);
}

.icon-up, .task-icon-link[href='/'] img {
  .icon-img('../plugin/material-theme/resources/images/arrow_back.svg', @color-grey);
}

.icon-edit-delete {
  .icon-img('../plugin/material-theme/resources/images/delete.svg', @color-grey);
}

.icon-fingerprint, [src$='fingerprint.png'] {
  .icon-img('../plugin/material-theme/resources/images/fingerprint.svg', @color-grey);
}

.icon-graph, [src$='graph.png'] {
  .icon-img('../plugin/material-theme/resources/images/insert_chart.svg', @color-grey);
}

.icon-collapse {
  .icon-img('../plugin/material-theme/resources/images/expand_less.svg', @color-grey);
}

.icon-expand {
  .icon-img('../plugin/material-theme/resources/images/expand_more.svg', @color-grey);
}

.icon-help, [src$='help.png'] {
  .icon-img('../plugin/material-theme/resources/images/help_outline.svg', @color-grey);
}

.icon-secure, .icon-lock, [src$='secure.png'] {
  .icon-img('../plugin/material-theme/resources/images/lock.svg', @color-grey);
}

.icon-plugin, [src$='plugin.png'] {
  .icon-img('../plugin/material-theme/resources/images/extension.svg', @color-grey);
}

.icon-system-log-out, [src$='system-log-out.png'] {
  .icon-img('../plugin/material-theme/resources/images/power_settings_new.svg', @color-grey);
}

.icon-refresh, [src$='refresh.png'] {
  .icon-img('../plugin/material-theme/resources/images/refresh.svg', @color-grey);
}

.icon-computer, [src$='computer.png'] {
  .icon-img('../plugin/material-theme/resources/images/computer.svg', @color-grey);
}

.icon-computer-x {
  .icon-img('../plugin/material-theme/resources/images/computer_offline.svg', @color-grey);
}

.icon-new-computer {
  .icon-img('../plugin/material-theme/resources/images/computer_new.svg', @color-grey);
}

.icon-clipboard, [src$='clipboard.png'] {
  .icon-img('../plugin/material-theme/resources/images/assignment.svg', @color-grey);
}

.icon-monitor, [src$='monitor.png'] {
  .icon-img('../plugin/material-theme/resources/images/chart-areaspline.svg', @color-grey);
}

.icon-terminal, [src$='terminal.png'] {
  .icon-img('../plugin/material-theme/resources/images/console.svg', @color-grey);
}

.icon-network, [src$='network.png'] {
  .icon-img('../plugin/material-theme/resources/images/server-network.svg', @color-grey);
}

.icon-document, .icon-text {
  .icon-img('../plugin/material-theme/resources/images/file.svg', @color-grey);
}

.icon-folder, [src$='folder.png'], [src$='/directory16.png'] {
  .icon-img('../plugin/material-theme/resources/images/folder.svg', @color-grey);
}

.icon-clock, .icon-clock-anime, [src$='clock.png'] {
  .icon-img('../plugin/material-theme/resources/images/play_circle_outline.svg', @color-grey);
}

.icon-folder-delete, [src$='edit-delete.png'] {
  .icon-img('../plugin/material-theme/resources/images/folder-remove.svg', @color-grey);
}

.icon-previous {
  .icon-img('../plugin/material-theme/resources/images/skip_previous.svg', @color-grey);
}

.icon-next {
  .icon-img('../plugin/material-theme/resources/images/skip_next.svg', @color-grey);
}

.icon-save, [src$='/save.png'] {
  .icon-img('../plugin/material-theme/resources/images/save.svg', @color-grey);
}

.icon-package, [src$='package.gif'] {
  .icon-img('../plugin/material-theme/resources/images/package-down.svg', @color-grey);
}

.icon-search, [src$='search.png'] {
  .icon-img('../plugin/material-theme/resources/images/info_outline.svg', @color-grey);
}

.icon-stop {
  .icon-img('../plugin/material-theme/resources/images/stop.svg', @color-grey);
}

[src$='/move.png'] {
  .icon-img('../plugin/material-theme/resources/images/folder-move.svg', @color-grey);
}

[src$='/atom.gif'] {
  .icon(@size-md);
  .icon-img('../plugin/material-theme/resources/images/rss-box.svg', @color-yellow);
}

[src$='credentials.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/key.svg', @color-grey);
}

[src$='confighistory.png'] {
  .icon-img('../plugin/material-theme/resources/images/build.svg', @color-grey);
}

[src$='domain.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/domain.svg', @color-grey);
}

#description-link img, .icon-gear, [src$='gear.png'] {
  .icon-img('../plugin/material-theme/resources/images/pencil.svg', @color-grey);
}

.icon-go-next {
  .icon-img('../plugin/material-theme/resources/images/arrow_forward.svg', @color-grey);
}

[src$='diskusage48.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/storage.svg', @color-grey);
}

[src$='git-32x32.png'] {
  // Force the 32x32 logo to be 24x24 - as it is much bigger that the others in the build menu.
  .icon(@size-md);
  .icon-img('../plugin/material-theme/resources/images/git.svg', @color-grey);
}

[src$='git-48x48.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/git.svg', @color-grey);
}

[src$='logov3.png'] {
  .icon-img('../plugin/material-theme/resources/images/github-circle.svg', @color-grey);
}

[src$='findbugs-24x24.png'], [src$='findbugs-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/bug_report.svg', @color-grey);
}

[src$='dry-24x24.png'], [src$='dry-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/compare.svg', @color-grey);
}

[src$='checkstyle-24x24.png'], [src$='checkstyle-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/flag.svg', @color-grey);
}

[src$='pmd-24x24.png'], [src$='pmd-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/feedback.svg', @color-grey);
}

[src$='tasks-24x24.png'], [src$='tasks-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/assignment_late.svg', @color-grey);
}

[src$='analysis-24x24.png'], [src$='analysis-48x48.png'], 
[src$='go-24x24.png'], [src$='go-48x48.png'], 
[src$='idea-24x24.png'], [src$='idea-48x48.png'], 
[src$='java-24x24.png'], [src$='java-48x48.png'], 
[src$='resharper-24x24.png'], [src$='resharper-48x48.png'], 
[src$='scala-24x24.png'], [src$='scala-48x48.png'], 
[src$='warnings-24x24.png'], [src$='warnings-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/warning.svg', @color-grey);
}

// Size
.icon-new-package, [src$='new-package.png'],
.icon-user, [src$='user.png'],
.icon-notepad, [src$='notepad.png'],
.icon-setting, [src$='setting.png'],
.icon-gear2, [src$='gear2.png'],
.icon-up,
.icon-edit-delete,
.icon-fingerprint, [src$='fingerprint.png'],
.icon-graph, [src$='graph.png'],
.icon-collapse,
.icon-expand,
.icon-help, [src$='help.png'],
.icon-secure, .icon-lock, [src$='secure.png'],
.icon-plugin, [src$='plugin.png'],
.icon-system-log-out, [src$='system-log-out.png'],
.icon-refresh, [src$='refresh.png'],
.icon-computer, [src$='computer.png'],
.icon-computer-x,
.icon-new-computer,
.icon-clipboard, [src$='clipboard.png'],
.icon-monitor, [src$='monitor.png'],
.icon-terminal, [src$='terminal.png'],
.icon-network, [src$='network.png'],
.icon-document, .icon-text,
.icon-folder, [src$='folder.png'], [src$='/directory16.png'],
.icon-clock, .icon-clock-anime, [src$='clock.png'],
.icon-folder-delete, [src$='edit-delete.png'],
.icon-previous,
.icon-next,
.icon-save, [src$='/save.png'],
.icon-package, [src$='package.gif'],
.icon-search, [src$='search.png'],
.icon-stop,
[src$='/move.png'],
[src$='/atom.gif'],
[src$='credentials.png'],
[src$='confighistory.png'],
[src$='domain.png'],
#description-link img, .icon-gear, [src$='gear.png'],
.icon-go-next,
[src$='diskusage48.png'],
[src$='findbugs-24x24.png'], [src$='findbugs-48x48.png'],
[src$='checkstyle-24x24.png'], [src$='checkstyle-48x48.png'],
[src$='analysis-24x24.png'], [src$='analysis-48x48.png'], 
[src$='go-24x24.png'], [src$='go-48x48.png'], 
[src$='idea-24x24.png'], [src$='idea-48x48.png'], 
[src$='java-24x24.png'], [src$='java-48x48.png'], 
[src$='resharper-24x24.png'], [src$='resharper-48x48.png'], 
[src$='scala-24x24.png'], [src$='scala-48x48.png'], 
[src$='warnings-24x24.png'], [src$='warnings-48x48.png'],
[src$='dry-24x24.png'], [src$='dry-48x48.png'],
[src$='pmd-24x24.png'], [src$='pmd-48x48.png'],
[src$='tasks-24x24.png'], [src$='tasks-48x48.png'],
[src$='logov3.png'] {

  &.icon-xlg, &[src*='48x'], &.icon48x48 {
    .icon(@size-xl);
  }

  &.icon-lg, &[src*='32x'], &.icon32x32, &[style*='width: 32p'], &[width="32"] {
    .icon(@size-lg);
  }

  &.icon-md, &[src*='24x'], &.icon24x24, &[style*='width: 24p'], &[width="24"] {
    .icon(@size-md);
  }

  &.icon-sm, &[src*='16x'], &.icon16x16, &[style*='width: 16p'], &[width="16"] {
    .icon(@size-sm);
  }
}

#header {
  .icon-help {
    filter: brightness(10000);
  }
}

// Hacks

[src*='www.gravatar.com'] {
  height: auto !important;
  width: auto !important;
  padding: 0 !important;
}

.task-icon-link[href='/'] {
  img {
    padding: 36px 0 0 36px !important;
    filter: brightness(10000);
  }
}


// Extensions - Added since port to Theme Manage
// Multi-branch Pipelines
.icon-pipeine-multibranch-project, [src$='pipelinemultibranchproject.png'] {
  .icon-img('../plugin/material-theme/resources/images/source-repository-multiple.svg', @color-grey);
}

// Lockable Resources
.icon-device,
[src$='device-24x24.png'], [src$='device-48x48.png'] {
  .icon-img('../plugin/material-theme/resources/images/devices.svg', @color-grey);
}

// Document (Manage Old Data)
.icon-document, [src$='document.png'] {
  .icon-img('../plugin/material-theme/resources/images/file-document.svg', @color-grey);
}

// Disk (Disk Usage)
.icon-disk, [src$='disk.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/harddisk.svg', @color-grey);
}

// Spanner (Config as Code)
.icon-config, [src$='logo-head.svg'] {
  // Set default size, none of the conditions in 
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/wrench.svg', @color-grey);
}

// Docker
.icon-docker, [src$='docker.png'] {
  // Set default size, as path doesn't contain one (for the regular expressions in Extension sizes)
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/docker.svg', @color-grey);
}

// Health pulse (monitor)
.icon-monitor, [src$='monitor.gif'] {
  .icon-img('../plugin/material-theme/resources/images/clipboard-pulse.svg', @color-grey);
}

// Pause build
[src$='pause.png'] {
  .icon-img('../plugin/material-theme/resources/images/play-pause.svg', @color-grey);
}

// Replay build
.icon-repo, [src$='redo.png'] {
  .icon-img('../plugin/material-theme/resources/images/replay.svg', @color-grey);
}

// Parameters
.icon-document-properties, [src$='document-properties.png'] {
  .icon-img('../plugin/material-theme/resources/images/file-cog.svg', @color-grey);
}

// Computer User offline
.icon-computer-user-offline, [src$="computer-user-offline.png"] {
  .icon-img('../plugin/material-theme/resources/images/laptop-off.svg', @color-grey);
}


// Remove the background from icons on the New Item page.
div.icon {
  height: 0% !important;
  width: 0% !important;
  content: none;
  border: none !important;
  left: 0px !important;
  top: 7px !important;
}

// Create item menu
// Freestyle Project
.icon-freestyle-project, [src$='freestyleproject.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/file-plus.svg', @color-grey);
}

// Multi-configuration project
[src$='matrixproject.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/file-table.svg', @color-grey);
}

// External Job
[src$='externaljob.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/plus-network.svg', @color-grey);
}

// Maven
.icon-maven-moduleset, [src$='mavenmoduleset.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/owl.svg', @color-grey);
}

// Multi-job project - not used yet (need to replace div)
.div.default-icon {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/file-document-multiple.svg', @color-grey);
}

// Pipeline
[src$='pipelinejob.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/pipe.svg', @color-grey);
}

// Job submenu
// Claim
[src$='claim.png'] {
  .icon(@size-md);
  .icon-img('../plugin/material-theme/resources/images/account-arrow-left.svg', @color-grey);
}

// Copy job
[src$='copy.png'] {
  .icon(@size-xl);
  .icon-img('../plugin/material-theme/resources/images/content-copy.svg', @color-grey);
}

// Restart from stage
[src$='restart-stage.png'] {
  .icon(@size-md);
  .icon-img('../plugin/material-theme/resources/images/restart.svg', @color-grey);
}

// Test Results Analyser
[src$='test-results-analyzer/images/icon.png'] {
  .icon(@size-md);
  .icon-img('../plugin/material-theme/resources/images/clipboard-check.svg', @color-grey);
}

// General
// Orange-Square
.icon-orange-square, [src$='orange-square.png'], [src$='orange-square.svg'] {
  .icon-img('../plugin/material-theme/resources/images/comment-arrow-right.svg', @color-grey);
}

// Hour glass
.icon-hourglass, [src$='hourglass.png'], [src$='hourglass.svg'], [src$='hourglass.gif'] {
  .icon-img('../plugin/materil-theme/resources/images/timer-sand.svg', @color-grey);
}

// Credentials Page
.icon-credentials-credentials, [src$='credential.png'] {
  .icon-img('../plugin/material-theme/resources/images/key.svg', @color-grey);
}
.icon-credentials-userpass, [src$='userpass.png'] {
  .icon-img('../plugin/material-theme/resources/images/account-key.svg', @color-grey);
}
.icon-ssh-credentials-ssh-key, [src$='ssh-key.png'] {
  .icon-img('../plugin/material-theme/resources/images/ssh.svg', @color-grey);
}
.icon-credentials-system-store, [src$='system-store.png'] {
  .icon-img('../plugin/material-theme/resources/images/shield-lock.svg', @color-grey);
}
.icon-credentials-credential, [src$='new-credential.png'] {
  .icon-img('../plugin/material-theme/resources/images/form-textbox-password.svg', @color-grey);
}
.icon-credentials-certificate, [src$='certificate.png'] {
  .icon-img('../plugin/material-theme/resources/images/certificate.svg', @color-grey);
}

// Attribute (label/tag)
.icon-attribute, [src$='attribute.png'] {
  .icon-img('../plugin/material-theme/resources/images/tag-text.svg', @color-grey);
}

// Extension sizes
.div.default-icon,
.icon-attribute, [src$='attribute.png'],
.icon-computer-user-offline, [src$="computer-user-offline.png"],
.icon-config, [src$='logo-head.svg'], [src$='matrixproject.png'],
[src$='copy.png'],
.icon-credentials-credentials, [src$='credential.png'],
.icon-credentials-userpass, [src$='userpass.png'],
.icon-credentials-system-store, [src$='system-store.png'],
.icon-credentials-credential, [src$='new-credential.png'],
.icon-credentials-certificate, [src$='certificate.png'],
.icon-device, [src$='device-24x24.png'], [src$='device-48x48.png'],
.icon-disk, [src$='disk.png'],
.icon-docker, [src$='docker.png'],
.icon-document, [src$='document.png'],
.icon-document-properties, [src$='document-properties.png'],
.icon-freestyle-project, [src$='freestyleproject.png'],
.icon-hourglass, [src$='hourglass.png'], [src$='hourglass.svg'], [src$='hourglass.gif'],
.icon-maven-moduleset, [src$='mavenmoduleset.png'],
.icon-monitor, [src$='monitor.gif'], [src$='systemmonitor.png'],
.icon-orange-square, [src$='orange-square.png'], [src$='orange-square.svg'],
[src$='pause.png'], [src$='48x48/pipelinejob.png'],
.icon-pipeine-multibranch-project, [src$='pipelinemultibranchproject.png'],
[src$='pipelinejob.png'],
.icon-repo, [src$='redo.png'],
.icon-ssh-credentials-ssh-key, [src$='ssh-key.png'],
[src$='test-results-analyzer/images/icon.png'] {
  // Replace icons with ones with the appropriate size.
  // This relies on:
  // - the size being set by a class (e.g. icon-xlg, icon48x48)
  // - being path of original image path
  // - the original page setting the size explicitly.
  &.icon-xlg, &[src*='48x'], &.icon48x48 {
    .icon(@size-xl);
  }

  &.icon-lg, &[src*='32x'], &.icon32x32, &[style*='width: 32p'], &[width="32"] {
    .icon(@size-lg);
  }

  &.icon-md, &[src*='24x'], &.icon24x24, &[style*='width: 24p'], &[width="24"] {
    .icon(@size-md);
  }

  &.icon-sm, &[src*='16x'], &.icon16x16, &[style*='width: 16p'], &[width="16"] {
    .icon(@size-sm);
  }
}

